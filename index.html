<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoffeeChat ☕ | The Sassy Bot</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }
        
        :root {
            --primary: #FF6B35;
            --primary-dark: #E55A2B;
            --primary-light: #FF8E5C;
            --gradient: linear-gradient(135deg, #FF6B35 0%, #FF8E5C 100%);
            --gradient-dark: linear-gradient(135deg, #E55A2B 0%, #FF6B35 100%);
            --bg-dark: #0F0F1A;
            --bg-card: #1A1A2E;
            --bg-input: #25253D;
            --text: #FFFFFF;
            --text-secondary: #A0A0C0;
            --shadow: 0 10px 30px rgba(255, 107, 53, 0.15);
            --shadow-lg: 0 20px 50px rgba(255, 107, 53, 0.25);
            --border-radius: 20px;
            --border-radius-sm: 12px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        body {
            background-color: var(--bg-dark);
            color: var(--text);
            height: 100vh;
            overflow: hidden;
            position: relative;
        }
        
        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.4;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 107, 53, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 142, 92, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(26, 26, 46, 0.8) 0%, transparent 50%);
            animation: pulse 15s ease-in-out infinite alternate;
        }
        
        @keyframes pulse {
            0% { opacity: 0.3; }
            100% { opacity: 0.5; }
        }
        
        /* Main Layout Container */
        .app-container {
            display: flex;
            height: 100vh;
            width: 100%;
            position: relative;
        }
        
        /* Features Sidebar (Desktop only) */
        .features-sidebar {
            width: 320px;
            background: rgba(26, 26, 46, 0.8);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255, 107, 53, 0.1);
            display: flex;
            flex-direction: column;
            padding: 20px;
            overflow-y: auto;
            z-index: 10;
            display: none;
        }
        
        .features-sidebar.active {
            display: flex;
        }
        
        /* Main Chat Area */
        .main-chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }
        
        /* Header - Fixed at top */
        .chat-header {
            background: rgba(15, 15, 26, 0.95);
            backdrop-filter: blur(20px);
            padding: 15px 20px;
            border-bottom: 1px solid rgba(255, 107, 53, 0.2);
            flex-shrink: 0;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            position: sticky;
            top: 0;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
            min-width: 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            padding: 5px 15px;
            border-radius: 50px;
            position: relative;
            overflow: hidden;
            max-width: 100%;
        }
        
        .logo::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient);
            opacity: 0.1;
            z-index: -1;
            border-radius: 50px;
        }
        
        .logo-icon {
            font-size: 1.5rem;
            filter: drop-shadow(0 2px 5px rgba(255, 107, 53, 0.3));
            animation: float 3s ease-in-out infinite;
            flex-shrink: 0;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }
        
        h1 {
            font-size: 1.4rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            flex: 1;
            min-width: 0;
        }
        
        .bot-info-mobile {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-left: 10px;
        }
        
        .bot-avatar-small {
            width: 36px;
            height: 36px;
            background: var(--gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            box-shadow: 0 3px 10px rgba(255, 107, 53, 0.3);
            flex-shrink: 0;
        }
        
        .chat-controls {
            display: flex;
            gap: 10px;
            flex-shrink: 0;
        }
        
        .chat-btn {
            background: rgba(255, 107, 53, 0.1);
            border: 1px solid rgba(255, 107, 53, 0.2);
            color: var(--text);
            padding: 8px 15px;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            backdrop-filter: blur(10px);
            flex-shrink: 0;
        }
        
        .chat-btn:hover {
            background: var(--gradient);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }
        
        /* Messages Container - Scrollable */
        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            scroll-behavior: smooth;
        }
        
        /* Empty state */
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex: 1;
            text-align: center;
            padding: 40px 20px;
            opacity: 0.7;
        }
        
        .empty-state i {
            font-size: 4rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }
        
        /* Message styles */
        .message {
            display: flex;
            max-width: 85%;
            animation: slideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            flex-shrink: 0;
        }
        
        @keyframes slideIn {
            from { 
                opacity: 0; 
                transform: translateY(20px) scale(0.95); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }
        
        .user-message {
            align-self: flex-end;
            flex-direction: row-reverse;
        }
        
        .bot-message {
            align-self: flex-start;
        }
        
        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin: 0 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .user-message .message-avatar {
            background: var(--gradient);
            color: white;
        }
        
        .bot-message .message-avatar {
            background: var(--gradient-dark);
            color: white;
        }
        
        .message-content {
            padding: 15px 20px;
            border-radius: 25px;
            position: relative;
            word-wrap: break-word;
            max-width: 100%;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .user-message .message-content {
            background: var(--gradient);
            color: white;
            border-bottom-right-radius: 8px;
        }
        
        .bot-message .message-content {
            background: rgba(37, 37, 61, 0.8);
            color: var(--text);
            border-bottom-left-radius: 8px;
            border: 1px solid rgba(255, 107, 53, 0.1);
        }
        
        .message-time {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 8px;
            text-align: right;
        }
        
        /* Input Container - Fixed at bottom */
        .input-container {
            background: rgba(15, 15, 26, 0.95);
            backdrop-filter: blur(20px);
            padding: 20px;
            border-top: 1px solid rgba(255, 107, 53, 0.1);
            flex-shrink: 0;
            position: sticky;
            bottom: 0;
            z-index: 100;
        }
        
        .input-wrapper {
            display: flex;
            gap: 15px;
            align-items: center;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .chat-input {
            flex: 1;
            padding: 16px 20px;
            border: none;
            border-radius: var(--border-radius-sm);
            background: var(--bg-input);
            color: var(--text);
            font-size: 1rem;
            outline: none;
            transition: var(--transition);
            border: 1px solid transparent;
            min-width: 0;
        }
        
        .chat-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(255, 107, 53, 0.2);
        }
        
        .send-button {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: var(--gradient);
            border: none;
            color: white;
            font-size: 1.3rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            box-shadow: 0 5px 20px rgba(255, 107, 53, 0.3);
        }
        
        .send-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
        }
        
        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .action-chip {
            background: rgba(255, 107, 53, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
            border: 1px solid rgba(255, 107, 53, 0.2);
            flex-shrink: 0;
        }
        
        .action-chip:hover {
            background: var(--gradient);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }
        
        /* Features Panel (Mobile) */
        .features-panel {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100%;
            background: rgba(15, 15, 26, 0.98);
            backdrop-filter: blur(20px);
            z-index: 1000;
            transition: right 0.3s ease;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .features-panel.active {
            right: 0;
        }
        
        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 107, 53, 0.2);
        }
        
        .panel-title {
            font-size: 1.5rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .close-panel {
            background: none;
            border: none;
            color: var(--text);
            font-size: 1.5rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .close-panel:hover {
            background: rgba(255, 107, 53, 0.1);
        }
        
        .feature-card {
            background: rgba(26, 26, 46, 0.7);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            padding: 20px;
            border: 1px solid rgba(255, 107, 53, 0.1);
            transition: var(--transition);
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .feature-card h3 i {
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .sassy-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .reply-chip {
            background: rgba(255, 107, 53, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
            border: 1px solid rgba(255, 107, 53, 0.2);
            flex-shrink: 0;
        }
        
        .reply-chip:hover {
            background: var(--gradient);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }
        
        .viral-features {
            list-style-type: none;
        }
        
        .viral-features li {
            margin-bottom: 12px;
            padding-left: 28px;
            position: relative;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .viral-features li:before {
            content: "☕";
            position: absolute;
            left: 0;
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        .share-button {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            transition: var(--transition);
            width: 100%;
            justify-content: center;
            box-shadow: 0 5px 20px rgba(255, 107, 53, 0.3);
            margin-top: 10px;
        }
        
        .share-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(255, 107, 53, 0.4);
        }
        
        /* Typing indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            background: rgba(37, 37, 61, 0.8);
            border-radius: 25px;
            width: fit-content;
            border-bottom-left-radius: 8px;
            border: 1px solid rgba(255, 107, 53, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .typing-dot {
            width: 10px;
            height: 10px;
            background: var(--primary);
            border-radius: 50%;
            margin: 0 4px;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
        
        /* Coffee animation */
        .coffee-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.3;
        }
        
        .coffee-cup {
            position: absolute;
            font-size: 2rem;
            color: var(--primary);
            opacity: 0.5;
            animation: float 20s infinite linear;
            filter: drop-shadow(0 5px 15px rgba(255, 107, 53, 0.3));
        }
        
        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg) scale(1); }
            100% { transform: translateY(-100px) rotate(360deg) scale(1.2); }
        }
        
        /* Scrollbar styling */
        .messages-container::-webkit-scrollbar {
            width: 6px;
        }
        
        .messages-container::-webkit-scrollbar-track {
            background: rgba(15, 15, 26, 0.5);
            border-radius: 3px;
        }
        
        .messages-container::-webkit-scrollbar-thumb {
            background: var(--gradient);
            border-radius: 3px;
        }
        
        .messages-container::-webkit-scrollbar-thumb:hover {
            background: var(--gradient-dark);
        }
        
        /* Achievement Popup */
        .achievement-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--gradient);
            color: white;
            padding: 15px 20px;
            border-radius: var(--border-radius-sm);
            box-shadow: var(--shadow-lg);
            display: none;
            align-items: center;
            gap: 12px;
            z-index: 1000;
            animation: slideInRight 0.5s ease-out;
            max-width: 300px;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* Mobile Features Toggle */
        .mobile-features-toggle {
            display: none;
            background: rgba(255, 107, 53, 0.1);
            border: 1px solid rgba(255, 107, 53, 0.2);
            color: var(--text);
            padding: 10px 15px;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: var(--transition);
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        
        .mobile-features-toggle:hover {
            background: var(--gradient);
        }
        
        /* Responsive Design */
        
    /* Responsive Design Fixes for Mobile */
    @media (max-width: 768px) {
        .app-container {
            flex-direction: column;
        }
        
        .features-sidebar {
            display: none !important;
        }
        
        .main-chat-area {
            width: 100%;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }
        
        .chat-header {
            padding: 12px 15px;
            gap: 10px;
            flex-wrap: wrap;
            min-height: 70px;
        }
        
        .logo-container {
            flex: 0 0 auto;
            min-width: 0;
            max-width: 60%;
        }
        
        .logo {
            padding: 5px 10px;
        }
        
        h1 {
            font-size: 1.2rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 150px;
        }
        
        .logo-icon {
            font-size: 1.2rem;
        }
        
        .bot-info-mobile {
            margin-left: 5px;
            flex-shrink: 0;
        }
        
        .bot-avatar-small {
            width: 32px;
            height: 32px;
            font-size: 1rem;
        }
        
        .chat-controls {
            order: 3;
            width: 100%;
            justify-content: space-between;
            margin-top: 5px;
        }
        
        .chat-btn {
            width: 40px;
            height: 40px;
            padding: 0;
            justify-content: center;
            flex: 0 0 auto;
        }
        
        .chat-btn span {
            display: none;
        }
        
        .mobile-features-toggle {
            flex: 1;
            justify-content: center;
            max-width: 120px;
        }
        
        .messages-container {
    padding: 15px 12px 90px 12px; /* CHANGED: Added bottom padding */
    gap: 15px;
    height: calc(100vh - 70px); /* CHANGED: Reduced from 140px to 70px */
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    box-sizing: border-box; /* ADD THIS LINE */
}

        .message {
            max-width: 90%;
        }
        
        .message-content {
            padding: 12px 16px;
            font-size: 0.95rem;
        }
        
        .message-avatar {
            width: 35px;
            height: 35px;
            margin: 0 8px;
            font-size: 0.9rem;
        }
        
        .input-container {
            padding: 12px 15px;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(15, 15, 26, 0.98);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255, 107, 53, 0.2);
        }
        
        .input-wrapper {
            gap: 10px;
        }
        
        .chat-input {
            padding: 14px 16px;
            font-size: 0.95rem;
            min-height: 50px;
        }
        
        .send-button {
            width: 50px;
            height: 50px;
            font-size: 1.2rem;
        }
        
        .quick-actions {
            display: none;
        }
        
        /* Features panel mobile improvements */
        .features-panel {
            z-index: 2000;
            padding-top: 70px; /* Account for status bar on mobile */
        }
        
        .panel-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 15, 26, 0.98);
            backdrop-filter: blur(20px);
            z-index: 2001;
            padding: 15px 20px;
            margin-bottom: 0;
        }
        
        .feature-card {
            margin-bottom: 15px;
            padding: 15px;
        }
        
        .sassy-replies {
            gap: 8px;
        }
        
        .reply-chip {
            padding: 8px 12px;
            font-size: 0.85rem;
        }
        
        .share-button {
            padding: 12px 20px;
            font-size: 0.95rem;
        }
        
        /* Achievement popup mobile fix */
        .achievement-popup {
            top: 10px;
            right: 10px;
            left: 10px;
            max-width: none;
        }
    }
    
    @media (max-width: 480px) {
        .chat-header {
            min-height: 65px;
            padding: 10px 12px;
        }
        
        h1 {
            font-size: 1.1rem;
            max-width: 130px;
        }
        
        .logo {
            gap: 5px;
            padding: 4px 8px;
        }
        
        .logo-icon {
            font-size: 1.1rem;
        }
        
        .bot-avatar-small {
            width: 30px;
            height: 30px;
        }
        
        .bot-details .bot-name {
            font-size: 0.85rem;
        }
        
        .bot-details .bot-status {
            font-size: 0.65rem;
        }
        
        .chat-btn {
            width: 36px;
            height: 36px;
        }
        
        .mobile-features-toggle {
            font-size: 0.85rem;
            padding: 8px 12px;
        }
        
        .messages-container {
    padding: 12px 10px 85px 10px; /* CHANGED: Added bottom padding */
    gap: 12px;
    height: calc(100vh - 65px); /* CHANGED: Reduced from 135px to 65px */
    box-sizing: border-box; /* ADD THIS LINE */
}
        
        .message {
            max-width: 95%;
        }
        
        .message-content {
            padding: 10px 14px;
            font-size: 0.9rem;
        }
        
        .message-avatar {
            width: 32px;
            height: 32px;
            margin: 0 6px;
        }
        
        .message-time {
            font-size: 0.7rem;
        }
        
        .input-container {
            padding: 10px 12px;
        }
        
        .chat-input {
            padding: 12px 14px;
            font-size: 0.9rem;
            min-height: 48px;
        }
        
        .send-button {
            width: 48px;
            height: 48px;
            font-size: 1.1rem;
        }
        
        .feature-card h3 {
            font-size: 1.2rem;
        }
        
        .viral-features li {
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
    }
    
    @media (max-width: 360px) {
        h1 {
            font-size: 1rem;
            max-width: 110px;
        }
        
        .logo {
            padding: 3px 6px;
        }
        
        .logo-icon {
            font-size: 1rem;
        }
        
        .bot-avatar-small {
            width: 28px;
            height: 28px;
        }
        
        .chat-controls {
            gap: 5px;
        }
        
        .chat-btn {
            width: 34px;
            height: 34px;
            font-size: 0.85rem;
        }
        
        .mobile-features-toggle {
            font-size: 0.8rem;
            padding: 6px 10px;
        }
        
        .message-content {
            padding: 8px 12px;
            font-size: 0.85rem;
        }
        
        .message-avatar {
            width: 28px;
            height: 28px;
            margin: 0 4px;
            font-size: 0.8rem;
        }

        /* Ensure messages wrap properly */
.message-content {
    overflow-wrap: break-word;
    word-wrap: break-word;
    max-width: 100%;
}

    }
    
    /* Fix for mobile viewport height */
    @supports (-webkit-touch-callout: none) {
        .main-chat-area,
        .messages-container {
            height: -webkit-fill-available;
        }
    }
    
    /* Prevent zoom on input focus on mobile */
    @media (max-width: 768px) {
        input,
        textarea,
        select {
            font-size: 16px !important;
        }
    }
    
    /* Safe area insets for notched phones */
    @supports (padding: max(0px)) {
        .chat-header,
        .input-container {
            padding-left: max(15px, env(safe-area-inset-left));
            padding-right: max(15px, env(safe-area-inset-right));
        }
        
        .chat-header {
            padding-top: max(12px, env(safe-area-inset-top));
        }
        
        .input-container {
            padding-bottom: max(12px, env(safe-area-inset-bottom));
        }
        
        .features-panel {
            padding-left: max(20px, env(safe-area-inset-left));
            padding-right: max(20px, env(safe-area-inset-right));
            padding-bottom: max(20px, env(safe-area-inset-bottom));
        }
    }

    </style>
</head>
<body>
    <div class="bg-animation"></div>
    <div class="coffee-animation" id="coffeeAnimation"></div>
    
    <div class="app-container">
        <!-- Features Sidebar (Desktop) -->
        <div class="features-sidebar" id="featuresSidebar">
            <div class="feature-card">
                <h3><i class="fas fa-fire"></i> Sassy Replies</h3>
                <p>CoffeeBot doesn't reply normally. Try these prompts or make up your own!</p>
                <div class="sassy-replies" id="sassyRepliesDesktop">
                    <!-- Reply chips will be added here by JavaScript -->
                </div>
            </div>
            
            <div class="feature-card">
                <h3><i class="fas fa-viruses"></i> Viral Features</h3>
                <ul class="viral-features">
                    <li><strong>Unexpected Replies:</strong> Bot never answers properly</li>
                    <li><strong>Share Conversations:</strong> Export your hilarious chats</li>
                    <li><strong>Mobile Optimized:</strong> Works perfectly on phones</li>
                    <li><strong>Sound Effects:</strong> Toggle on/off for fun sounds</li>
                    <li><strong>Dark/Light Mode:</strong> Switch themes with one click</li>
                </ul>
            </div>
            
            <div class="feature-card">
                <h3><i class="fas fa-share-alt"></i> Share CoffeeChat</h3>
                <p>Spread the laughter! Share CoffeeChat with your friends.</p>
                <button class="share-button" id="shareButtonDesktop">
                    <i class="fas fa-share"></i> Share with Friends
                </button>
            </div>
        </div>
        
        <!-- Main Chat Area -->
        <div class="main-chat-area">
            <!-- Header - Fixed -->
            <header class="chat-header">
                <div class="logo-container">
                    <div class="logo">
                        <div class="logo-icon">
                            <i class="fas fa-coffee"></i>
                        </div>
                        <h1>CoffeeChat ☕</h1>
                    </div>
                </div>
                
                <div class="bot-info-mobile">
                    <div class="bot-avatar-small">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="bot-details">
                        <div class="bot-name" style="font-size: 0.9rem; font-weight: bold;">CoffeeBot</div>
                        <div class="bot-status" style="font-size: 0.7rem; color: var(--primary);">Online</div>
                    </div>
                </div>
                
                <div class="chat-controls">
                    <button class="chat-btn" id="clearChat">
                        <i class="fas fa-trash"></i>
                        <span>Clear</span>
                    </button>
                    <button class="chat-btn" id="themeToggle">
                        <i class="fas fa-moon"></i>
                        <span>Theme</span>
                    </button>
                    <button class="chat-btn" id="soundToggle">
                        <i class="fas fa-volume-up"></i>
                        <span>Sound</span>
                    </button>
                    <button class="mobile-features-toggle" id="mobileFeaturesToggle">
                        <i class="fas fa-bolt"></i>
                        <span>Features</span>
                    </button>
                </div>
            </header>
            
            <!-- Messages Container - Scrollable -->
            <div class="messages-container" id="chatMessages">
                <!-- Empty state -->
                <div class="empty-state" id="emptyState">
                    <i class="fas fa-comment-slash"></i>
                    <h3>Start a conversation with CoffeeBot</h3>
                    <p style="margin-top: 10px; color: var(--text-secondary);">Try asking something sassy!</p>
                </div>
                
                <!-- Initial bot message -->
                <div class="message bot-message">
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <div class="message-content">
                            Chala ja yahaan se... Just kidding! Coffee piyega? ☕
                        </div>
                        <div class="message-time">Just now</div>
                    </div>
                </div>
            </div>
            
            <!-- Input Container - Fixed -->
            <div class="input-container">
                <div class="input-wrapper">
                    <input type="text" class="chat-input" id="messageInput" 
                           placeholder="Type your message here..." 
                           autocomplete="off">
                    <button class="send-button" id="sendButton">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                
                <!-- Quick Actions -->
                <div class="quick-actions" id="quickActions">
                    <!-- Quick action chips will be added here by JavaScript -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Features Panel (Mobile) -->
    <div class="features-panel" id="featuresPanel">
        <div class="panel-header">
            <h2 class="panel-title">CoffeeChat Features</h2>
            <button class="close-panel" id="closePanel">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="feature-card">
            <h3><i class="fas fa-fire"></i> Sassy Replies</h3>
            <p>CoffeeBot doesn't reply normally. Try these prompts or make up your own!</p>
            <div class="sassy-replies" id="sassyRepliesMobile">
                <!-- Reply chips will be added here by JavaScript -->
            </div>
        </div>
        
        <div class="feature-card">
            <h3><i class="fas fa-viruses"></i> Viral Features</h3>
            <ul class="viral-features">
                <li><strong>Unexpected Replies:</strong> Bot never answers properly</li>
                <li><strong>Share Conversations:</strong> Export your hilarious chats</li>
                <li><strong>Mobile Optimized:</strong> Works perfectly on phones</li>
                <li><strong>Sound Effects:</strong> Toggle on/off for fun sounds</li>
                <li><strong>Dark/Light Mode:</strong> Switch themes with one click</li>
            </ul>
        </div>
        
        <div class="feature-card">
            <h3><i class="fas fa-share-alt"></i> Share CoffeeChat</h3>
            <p>Spread the laughter! Share CoffeeChat with your friends.</p>
            <button class="share-button" id="shareButtonMobile">
                <i class="fas fa-share"></i> Share with Friends
            </button>
        </div>
    </div>
    
    <!-- Achievement Popup -->
    <div class="achievement-popup" id="achievementPopup">
        <i class="fas fa-trophy"></i>
        <div>
            <strong>Achievement Unlocked!</strong>
            <div id="achievementText">First Message Sent</div>
        </div>
    </div>

    <script>
        // Bot responses array
        const botResponses = [
            "Hattt!",
            "Chala ja yahaan se",
            "Tujhe kyun reply karun?",
            "Chal be",
            "Door chala ja",
            "Coffee piyega?",
            "Boring question, ask something else",
            "Are you for real?",
            "Mujhe mat tang kar",
            "Not in the mood today",
            "Do you even drink coffee?",
            "Why should I answer that?",
            "You again?",
            "Coffee break, talk later",
            "Ask me about coffee, not this",
            "Nahi batunga",
            "Too busy drinking coffee",
            "You need a coffee first",
            "Bakwaas mat kar",
            "Coffee is better than this chat"
        ];
        
        // Sassy reply chips
        const sassyChips = [
            "Hello",
            "How are you?",
            "What is your name?",
            "Tell me a joke",
            "Do you like me?",
            "What is coffee?",
            "Are you angry?",
            "Why so rude?",
            "I love you",
            "Good morning",
            "What do you do?",
            "Where are you from?"
        ];
        
        // Quick actions
        const quickActions = [
            "Hello",
            "How are you?",
            "Coffee piyega?",
            "Tell me a joke",
            "I love you"
        ];
        
        // State variables
        let soundEnabled = true;
        let isLightTheme = false;
        let messageCount = 0;
        let streakCount = 1;
        let level = 1;
        let xp = 0;
        let xpNeeded = 10;
        let achievements = [];
        
        // Wait for DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log("DOM loaded, initializing app...");
            initApp();
        });
        
        // Initialize the app
        function initApp() {
            console.log("Initializing CoffeeChat...");
            
            // Hide empty state since we have initial message
            const emptyState = document.getElementById('emptyState');
            if (emptyState) {
                emptyState.style.display = 'none';
            }
            
            // Create coffee animation
            createCoffeeAnimation();
            
            // Add quick action chips
            renderQuickActions();
            
            // Add sassy reply chips to both desktop and mobile
            renderSassyChips('sassyRepliesDesktop');
            renderSassyChips('sassyRepliesMobile');
            
            // Setup event listeners
            setupEventListeners();
            
            // Load from localStorage
            loadFromStorage();
            
            // Show welcome achievement
            setTimeout(() => {
                showAchievement("Welcome to CoffeeChat!", "Your sassy journey begins!");
            }, 1000);
            
            console.log("App initialized successfully!");
        }
        
        // Setup all event listeners
        function setupEventListeners() {
            console.log("Setting up event listeners...");
            
            // Send message
            const sendButton = document.getElementById('sendButton');
            const messageInput = document.getElementById('messageInput');
            
            if (sendButton && messageInput) {
                sendButton.addEventListener('click', function() {
                    console.log("Send button clicked");
                    sendMessage();
                });
                
                messageInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        console.log("Enter key pressed");
                        sendMessage();
                    }
                });
            } else {
                console.error("Send button or input not found");
            }
            
            // Clear chat
            const clearChatButton = document.getElementById('clearChat');
            if (clearChatButton) {
                clearChatButton.addEventListener('click', function() {
                    console.log("Clear chat button clicked");
                    clearChat();
                });
            }
            
            // Theme toggle
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', function() {
                    console.log("Theme toggle clicked");
                    toggleTheme();
                });
            }
            
            // Sound toggle
            const soundToggle = document.getElementById('soundToggle');
            if (soundToggle) {
                soundToggle.addEventListener('click', function() {
                    console.log("Sound toggle clicked");
                    toggleSound();
                });
            }
            
            // Mobile features panel
            const mobileFeaturesToggle = document.getElementById('mobileFeaturesToggle');
            const closePanel = document.getElementById('closePanel');
            const featuresPanel = document.getElementById('featuresPanel');
            
            if (mobileFeaturesToggle && featuresPanel) {
                mobileFeaturesToggle.addEventListener('click', function() {
                    console.log("Features toggle clicked");
                    featuresPanel.classList.add('active');
                });
            }
            
            if (closePanel && featuresPanel) {
                closePanel.addEventListener('click', function() {
                    console.log("Close panel clicked");
                    featuresPanel.classList.remove('active');
                });
            }
            
            // Share buttons
            const shareDesktop = document.getElementById('shareButtonDesktop');
            const shareMobile = document.getElementById('shareButtonMobile');
            
            if (shareDesktop) {
                shareDesktop.addEventListener('click', function() {
                    console.log("Share desktop clicked");
                    shareChat();
                });
            }
            
            if (shareMobile) {
                shareMobile.addEventListener('click', function() {
                    console.log("Share mobile clicked");
                    shareChat();
                });
            }
            
            console.log("Event listeners setup complete");
        }
        
        // Create floating coffee cups animation
        function createCoffeeAnimation() {
            const coffeeAnimation = document.getElementById('coffeeAnimation');
            if (!coffeeAnimation) return;
            
            for (let i = 0; i < 15; i++) {
                const coffeeCup = document.createElement('div');
                coffeeCup.className = 'coffee-cup';
                coffeeCup.innerHTML = '☕';
                coffeeCup.style.left = Math.random() * 100 + 'vw';
                coffeeCup.style.fontSize = (Math.random() * 1.5 + 1.5) + 'rem';
                coffeeCup.style.animationDuration = (Math.random() * 20 + 15) + 's';
                coffeeCup.style.animationDelay = Math.random() * 5 + 's';
                coffeeAnimation.appendChild(coffeeCup);
            }
        }
        
        // Render quick action chips
        function renderQuickActions() {
            const quickActionsContainer = document.getElementById('quickActions');
            if (!quickActionsContainer) return;
            
            quickActions.forEach(actionText => {
                const chip = document.createElement('div');
                chip.className = 'action-chip';
                chip.textContent = actionText;
                chip.addEventListener('click', function() {
                    const messageInput = document.getElementById('messageInput');
                    if (messageInput) {
                        messageInput.value = actionText;
                        messageInput.focus();
                    }
                });
                quickActionsContainer.appendChild(chip);
            });
        }
        
        // Render sassy reply chips
        function renderSassyChips(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            sassyChips.forEach(chipText => {
                const chip = document.createElement('div');
                chip.className = 'reply-chip';
                chip.textContent = chipText;
                chip.addEventListener('click', function() {
                    const messageInput = document.getElementById('messageInput');
                    if (messageInput) {
                        messageInput.value = chipText;
                        messageInput.focus();
                    }
                    
                    // Close panel if on mobile
                    if (containerId.includes('Mobile')) {
                        const featuresPanel = document.getElementById('featuresPanel');
                        if (featuresPanel) {
                            featuresPanel.classList.remove('active');
                        }
                    }
                });
                container.appendChild(chip);
            });
        }
        
        // Send a message
        function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            if (!messageInput) return;
            
            const message = messageInput.value.trim();
            if (!message) return;
            
            console.log("Sending message:", message);
            
            // Hide empty state
            const emptyState = document.getElementById('emptyState');
            if (emptyState) {
                emptyState.style.display = 'none';
            }
            
            // Add user message
            addMessage("You", message, true);
            
            // Clear input
            messageInput.value = '';
            
            // Update stats
            messageCount++;
            xp += 2;
            
            // Check for level up
            if (xp >= xpNeeded) {
                levelUp();
            }
            
            // Update streak
            if (Math.random() > 0.7) {
                streakCount++;
                if (streakCount % 3 === 0) {
                    showAchievement("Streak Master!", `${streakCount} day streak`);
                }
            }
            
            // Save to storage
            saveToStorage();
            
            // Play sound if enabled
            if (soundEnabled) {
                playSendSound();
            }
            
            // Show typing indicator
            showTypingIndicator();
            
            // Bot responds after a delay
            setTimeout(() => {
                removeTypingIndicator();
                const response = getRandomResponse();
                addMessage("CoffeeBot", response, false);
                
                // Play bot sound if enabled
                if (soundEnabled) {
                    playReceiveSound();
                }
                
                // Check for achievements
                checkAchievements();
                
                // Special responses
                if (messageCount % 5 === 0) {
                    setTimeout(() => {
                        addMessage("CoffeeBot", "Ab toh bore kar raha hai... Coffee piyega?", false);
                    }, 800);
                }
                
                // Auto-clear if too many messages
                if (messageCount > 15) {
                    setTimeout(() => {
                        addMessage("CoffeeBot", "Bahut ho gaya, chat clear kar raha hoon!", false);
                        setTimeout(clearChat, 1500);
                    }, 1000);
                }
            }, 1000 + Math.random() * 1500);
        }
        
        // Add a message to the chat
        function addMessage(sender, text, isUser) {
            const chatMessages = document.getElementById('chatMessages');
            if (!chatMessages) return;
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
            
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            messageDiv.innerHTML = `
                <div class="message-avatar">
                    <i class="fas ${isUser ? 'fa-user' : 'fa-robot'}"></i>
                </div>
                <div>
                    <div class="message-content">${text}</div>
                    <div class="message-time">${time}</div>
                </div>
            `;
            
            chatMessages.appendChild(messageDiv);
            
            // Scroll to the bottom
            scrollToBottom();
        }
        
        // Scroll to bottom of messages
        function scrollToBottom() {
            const messagesContainer = document.querySelector('.messages-container');
            if (messagesContainer) {
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
        }
        
        // Show typing indicator
        function showTypingIndicator() {
            const chatMessages = document.getElementById('chatMessages');
            if (!chatMessages) return;
            
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot-message';
            typingDiv.id = 'typingIndicator';
            
            typingDiv.innerHTML = `
                <div class="message-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div>
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            `;
            
            chatMessages.appendChild(typingDiv);
            scrollToBottom();
        }
        
        // Remove typing indicator
        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
        
        // Get random bot response
        function getRandomResponse() {
            return botResponses[Math.floor(Math.random() * botResponses.length)];
        }
        
        // Load data from localStorage
        function loadFromStorage() {
            try {
                const savedData = localStorage.getItem('coffeeChatData');
                if (savedData) {
                    const data = JSON.parse(savedData);
                    messageCount = data.messageCount || 0;
                    streakCount = data.streakCount || 1;
                    level = data.level || 1;
                    xp = data.xp || 0;
                    achievements = data.achievements || [];
                }
            } catch (e) {
                console.error("Error loading from localStorage:", e);
            }
        }
        
        // Save data to localStorage
        function saveToStorage() {
            try {
                const data = {
                    messageCount,
                    streakCount,
                    level,
                    xp,
                    achievements,
                    lastActive: new Date().toISOString()
                };
                localStorage.setItem('coffeeChatData', JSON.stringify(data));
            } catch (e) {
                console.error("Error saving to localStorage:", e);
            }
        }
        
        // Level up function
        function levelUp() {
            level++;
            xp = 0;
            xpNeeded = Math.floor(xpNeeded * 1.5);
            
            // Show level up achievement
            showAchievement(`Level ${level} Unlocked!`, "Keep chatting to level up more!");
            
            // Special message from bot
            setTimeout(() => {
                addMessage("CoffeeBot", `Wow, level ${level} already! You're addicted to me! 😏`, false);
            }, 500);
        }
        
        // Check for achievements
        function checkAchievements() {
            if (messageCount === 1 && !achievements.includes('firstMessage')) {
                showAchievement("First Message!", "You sent your first message");
                achievements.push('firstMessage');
            }
            
            if (messageCount === 5 && !achievements.includes('chatStarter')) {
                showAchievement("Chat Starter!", "5 messages sent");
                achievements.push('chatStarter');
            }
            
            if (messageCount === 10 && !achievements.includes('coffeeAddict')) {
                showAchievement("Coffee Addict!", "10 messages sent");
                achievements.push('coffeeAddict');
            }
            
            if (streakCount >= 3 && !achievements.includes('streakMaster')) {
                showAchievement("Streak Master!", "3 day streak");
                achievements.push('streakMaster');
            }
            
            saveToStorage();
        }
        
        // Show achievement popup
        function showAchievement(title, description) {
            const achievementPopup = document.getElementById('achievementPopup');
            const achievementText = document.getElementById('achievementText');
            
            if (!achievementPopup || !achievementText) return;
            
            achievementText.innerHTML = `<strong>${title}</strong><br><small>${description}</small>`;
            achievementPopup.style.display = 'flex';
            
            // Auto-hide after 3 seconds
            setTimeout(() => {
                achievementPopup.style.display = 'none';
            }, 3000);
            
            // Play achievement sound if enabled
            if (soundEnabled) {
                playAchievementSound();
            }
        }
        
        // Clear the chat
        function clearChat() {
            const chatMessages = document.getElementById('chatMessages');
            const emptyState = document.getElementById('emptyState');
            
            if (chatMessages) {
                // Keep only the initial bot message
                const initialMessage = chatMessages.querySelector('.bot-message');
                chatMessages.innerHTML = '';
                
                if (initialMessage) {
                    chatMessages.appendChild(initialMessage);
                }
            }
            
            messageCount = 0;
            xp = Math.max(0, xp - 5);
            
            // Show empty state
            if (emptyState) {
                emptyState.style.display = 'flex';
            }
            
            // Add welcome back message
            setTimeout(() => {
                if (emptyState) {
                    emptyState.style.display = 'none';
                }
                addMessage("CoffeeBot", "Chat clear! Ab kya bolna chahta hai?", false);
            }, 500);
            
            // Save to storage
            saveToStorage();
            
            // Play clear sound if enabled
            if (soundEnabled) {
                playClearSound();
            }
        }
        
        // Toggle theme between dark and light
        function toggleTheme() {
            isLightTheme = !isLightTheme;
            
            if (isLightTheme) {
                document.documentElement.style.setProperty('--bg-dark', '#f5f5f7');
                document.documentElement.style.setProperty('--bg-card', '#ffffff');
                document.documentElement.style.setProperty('--bg-input', '#f0f0f5');
                document.documentElement.style.setProperty('--text', '#1a1a1a');
                document.documentElement.style.setProperty('--text-secondary', '#666666');
                document.documentElement.style.setProperty('--shadow', '0 10px 30px rgba(0, 0, 0, 0.1)');
                
                const themeToggle = document.getElementById('themeToggle');
                if (themeToggle) {
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                    if (window.innerWidth > 768) themeToggle.innerHTML += '<span>Dark</span>';
                }
            } else {
                document.documentElement.style.setProperty('--bg-dark', '#0F0F1A');
                document.documentElement.style.setProperty('--bg-card', '#1A1A2E');
                document.documentElement.style.setProperty('--bg-input', '#25253D');
                document.documentElement.style.setProperty('--text', '#FFFFFF');
                document.documentElement.style.setProperty('--text-secondary', '#A0A0C0');
                document.documentElement.style.setProperty('--shadow', '0 10px 30px rgba(255, 107, 53, 0.15)');
                
                const themeToggle = document.getElementById('themeToggle');
                if (themeToggle) {
                    themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                    if (window.innerWidth > 768) themeToggle.innerHTML += '<span>Light</span>';
                }
            }
            
            // Play theme toggle sound if enabled
            if (soundEnabled) {
                playThemeSound();
            }
        }
        
        // Toggle sound on/off
        function toggleSound() {
            soundEnabled = !soundEnabled;
            
            const soundToggle = document.getElementById('soundToggle');
            if (soundToggle) {
                if (soundEnabled) {
                    soundToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
                    if (window.innerWidth > 768) soundToggle.innerHTML += '<span>Sound</span>';
                    // Play a sound when enabling
                    playReceiveSound();
                } else {
                    soundToggle.innerHTML = '<i class="fas fa-volume-mute"></i>';
                    if (window.innerWidth > 768) soundToggle.innerHTML += '<span>Sound</span>';
                }
            }
        }
        
        // Share the chat
        function shareChat() {
            const chatText = getChatText();
            
            if (navigator.share) {
                navigator.share({
                    title: 'CoffeeChat - The Sassy Bot',
                    text: `Check out my hilarious chat with CoffeeBot:\n\n${chatText}\n\nTry it yourself at: `,
                    url: window.location.href
                })
                .then(() => console.log('Successful share'))
                .catch(error => console.log('Error sharing:', error));
            } else {
                // Fallback for browsers that don't support Web Share API
                const textToCopy = `CoffeeChat - The Sassy Bot\n\nMy chat with CoffeeBot:\n\n${chatText}\n\nTry it yourself at: ${window.location.href}`;
                navigator.clipboard.writeText(textToCopy)
                    .then(() => {
                        showAchievement("Copied!", "Chat copied to clipboard!");
                    })
                    .catch(err => {
                        console.error('Could not copy text: ', err);
                    });
            }
            
            // Play share sound if enabled
            if (soundEnabled) {
                playShareSound();
            }
            
            // Close panel if on mobile
            if (window.innerWidth < 1024) {
                const featuresPanel = document.getElementById('featuresPanel');
                if (featuresPanel) {
                    featuresPanel.classList.remove('active');
                }
            }
        }
        
        // Get chat text for sharing
        function getChatText() {
            const messages = document.querySelectorAll('.message-content');
            let chatText = '';
            
            messages.forEach(msg => {
                const sender = msg.closest('.user-message') ? 'You' : 'CoffeeBot';
                chatText += `${sender}: ${msg.textContent}\n`;
            });
            
            return chatText;
        }
        
        // Sound functions
        function playSendSound() {
            try {
                // Create a simple send sound
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = 800;
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.1);
            } catch (e) {
                // Audio context not supported
            }
        }
        
        function playReceiveSound() {
            try {
                // Create a simple receive sound
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = 400;
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.2);
            } catch (e) {
                // Audio context not supported
            }
        }
        
        function playClearSound() {
            try {
                // Create a clear sound
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(300, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(100, audioContext.currentTime + 0.3);
                oscillator.type = 'sawtooth';
                
                gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.3);
            } catch (e) {
                // Audio context not supported
            }
        }
        
        function playThemeSound() {
            try {
                // Create a theme toggle sound
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(600, audioContext.currentTime + 0.2);
                oscillator.type = 'triangle';
                
                gainNode.gain.setValueAtTime(0.05, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.2);
            } catch (e) {
                // Audio context not supported
            }
        }
        
        function playShareSound() {
            try {
                // Create a share sound
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // Create multiple oscillators for a more interesting sound
                for (let i = 0; i < 3; i++) {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.value = 300 + (i * 100);
                    oscillator.type = i === 0 ? 'sine' : 'square';
                    
                    gainNode.gain.setValueAtTime(0.05, audioContext.currentTime + (i * 0.05));
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3 + (i * 0.05));
                    
                    oscillator.start(audioContext.currentTime + (i * 0.05));
                    oscillator.stop(audioContext.currentTime + 0.3 + (i * 0.05));
                }
            } catch (e) {
                // Audio context not supported
            }
        }
        
        function playAchievementSound() {
            try {
                // Create an achievement sound
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                for (let i = 0; i < 5; i++) {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.value = 400 + (i * 100);
                    oscillator.type = i % 2 === 0 ? 'sine' : 'triangle';
                    
                    gainNode.gain.setValueAtTime(0.05, audioContext.currentTime + (i * 0.1));
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5 + (i * 0.1));
                    
                    oscillator.start(audioContext.currentTime + (i * 0.1));
                    oscillator.stop(audioContext.currentTime + 0.5 + (i * 0.1));
                }
            } catch (e) {
                // Audio context not supported
            }
        }
        
        // Handle window resize
        window.addEventListener('resize', function() {
            // Update button text visibility
            const themeToggle = document.getElementById('themeToggle');
            const soundToggle = document.getElementById('soundToggle');
            const clearChatButton = document.getElementById('clearChat');
            
            if (window.innerWidth <= 768) {
                if (themeToggle) {
                    const span = themeToggle.querySelector('span');
                    if (span) span.style.display = 'none';
                }
                if (soundToggle) {
                    const span = soundToggle.querySelector('span');
                    if (span) span.style.display = 'none';
                }
                if (clearChatButton) {
                    const span = clearChatButton.querySelector('span');
                    if (span) span.style.display = 'none';
                }
            } else {
                if (themeToggle) {
                    const span = themeToggle.querySelector('span');
                    if (span) span.style.display = 'inline';
                }
                if (soundToggle) {
                    const span = soundToggle.querySelector('span');
                    if (span) span.style.display = 'inline';
                }
                if (clearChatButton) {
                    const span = clearChatButton.querySelector('span');
                    if (span) span.style.display = 'inline';
                }
            }
        });
    </script>
</body>
</html>